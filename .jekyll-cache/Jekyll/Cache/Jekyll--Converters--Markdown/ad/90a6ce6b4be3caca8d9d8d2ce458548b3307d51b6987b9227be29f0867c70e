I"‰#<p class="lead">Como escolher e manipular partes de uma string ou lista usando indexa√ß√£o (<em>indexing</em>) e fatiamento (<em>slicing</em>)</p>

<p>Quase todos os comandos que veremos a seguir funcionam para objetos do tipo string, lista e tupla. Quando n√£o for o caso, deixaremos indicado.</p>

<h2 id="indexing">Indexing</h2>

<p><strong>Indexing</strong> √© a maneira pela qual nos referimos a um elemento de uma lista, string ou tupla. Por exemplo, se temos uma lista <code class="language-plaintext highlighter-rouge">L = [1, 8, 'EEL', 5.43]</code>, cada um dos elementos tem por <strong>√≠ndice</strong> um inteiro, come√ßando em zero e sequencialmente aumentando de uma unidade at√© o √∫ltimo elemento. O primeiro elemento da lista <code class="language-plaintext highlighter-rouge">L</code> √© indicado por <code class="language-plaintext highlighter-rouge">L[0]</code>, o segundo por <code class="language-plaintext highlighter-rouge">L[1]</code>, e assim por diante. Acompanhe:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s">'EEL'</span><span class="p">,</span> <span class="mf">5.43</span><span class="p">]</span>
<span class="n">nL</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nL</span><span class="p">):</span>
  <span class="k">print</span><span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</code></pre></div></div>
<p>Esse c√≥digo vai imprimir, um a um, todos os elementos de <code class="language-plaintext highlighter-rouge">L</code>. Lembre que <code class="language-plaintext highlighter-rouge">len(L)</code> fornece o tamanho (nesse caso, o n√∫mero de elementos) de <code class="language-plaintext highlighter-rouge">L</code>, assim como, se <code class="language-plaintext highlighter-rouge">s</code> √© uma string, <code class="language-plaintext highlighter-rouge">len(s)</code> fornece o n√∫mero de caracteres de <code class="language-plaintext highlighter-rouge">s</code> (incluindo poss√≠veis espa√ßos em branco). Mas repare que o c√≥digo acima poderia ser simplificado fazendo uso das propriedades do operador <code class="language-plaintext highlighter-rouge">in</code>, j√° visto anteriormente:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s">'EEL'</span><span class="p">,</span> <span class="mf">5.43</span><span class="p">]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
  <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div></div>
<p>Nesse caso, nem precisamos saber o tamanho da lista!</p>

<p>Na li√ß√£o anterior, vimos que listas s√£o edit√°veis, ou seja, √© poss√≠vel alterar qualquer um de seus elementos. Isso √© feito usando indexa√ß√£o. Por exemplo, usando a mesma lista <code class="language-plaintext highlighter-rouge">L=[1, 8, 'EEL', 5.43]</code>, se quisermos alterar o terceiro elemento (com √≠ndice 2, n√£o se esque√ßa!) para  <code class="language-plaintext highlighter-rouge">Demar</code>, podemos simplesmente fazer <code class="language-plaintext highlighter-rouge">L[2] = 'Demar'</code>. A lista ent√£lo passa a ser <code class="language-plaintext highlighter-rouge">L=[1, 8, 'Demar', 5.43]</code>.</p>

<p class="lead alert alert-warning">:warning: N√£o √© poss√≠vel usar indexing para alterar valores de uma string ou de uma tupla! Esses s√£o tipos imut√°veis de objetos.</p>

<p>√â poss√≠vel tamb√©m adicionar e eliminar elementos de uma lista. Consulte a ajuda sobre os comandos <code class="language-plaintext highlighter-rouge">append</code> e <code class="language-plaintext highlighter-rouge">del</code> em qualquer refer√™ncia sobre python. Nesse curso, n√£o vamos precisar desses comandos, j√° que migraremos em breve para outros tipos de dados: os <strong>arrays</strong> que o m√≥dulo <code class="language-plaintext highlighter-rouge">numpy</code> fornece, muito mais poderosos que listas.</p>

<h3 id="o-que-s√£o-√≠ndices-negativos">O que s√£o √≠ndices negativos?</h3>

<p>Caso voc√™ queira o √∫ltimo elemento, a conven√ß√£o √© usar <strong>√≠ndices negativos</strong>: <code class="language-plaintext highlighter-rouge">L[-1]</code> √© o √∫ltimo elemento de <code class="language-plaintext highlighter-rouge">L</code>, <code class="language-plaintext highlighter-rouge">L[-2]</code> o pen√∫ltimo, e assim por diante. Veja que, com isso, voc√™ n√£o precisa necessariamente conhecer o tamanho de <code class="language-plaintext highlighter-rouge">L</code> para obter o seu √∫ltimo (ou qualquer outro) elemento.</p>

<h2 id="slicing-fatiamento">Slicing (fatiamento)</h2>

<p>Se voc√™ entendeu como funciona o comando <code class="language-plaintext highlighter-rouge">range()</code>, vai entender o fatiamento de listas, tuplas e strings, pois s√£o muito parecidos. A sintaxe √©</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">stop</span><span class="p">:</span><span class="n">step</span><span class="p">]</span>
</code></pre></div></div>
<p>em que <code class="language-plaintext highlighter-rouge">L</code> √© uma string, lista ou tupla e <code class="language-plaintext highlighter-rouge">f</code> √© uma fatia de <code class="language-plaintext highlighter-rouge">L</code> (ou seja, uma parte de <code class="language-plaintext highlighter-rouge">L</code>) a partir do elemento <code class="language-plaintext highlighter-rouge">start</code> at√© o elemento <code class="language-plaintext highlighter-rouge">stop</code>, mas <strong>SEM INCLUIR <code class="language-plaintext highlighter-rouge">stop</code></strong>, com um passo <code class="language-plaintext highlighter-rouge">step</code>.</p>

<p>Se <code class="language-plaintext highlighter-rouge">start</code> n√£o √© fornecido, ele √© por padr√£o <code class="language-plaintext highlighter-rouge">0</code>, ou seja, o primeiro elemento. Se stop n√£o √© fornecido, ele √© por padr√£o o √∫ltimo elemento, ou seja, <code class="language-plaintext highlighter-rouge">len(L)</code>. O <code class="language-plaintext highlighter-rouge">step</code> √© opcional e, se n√£o for fornecido, vale <code class="language-plaintext highlighter-rouge">1</code> por padr√£o.</p>

<p>Valores negativos para <code class="language-plaintext highlighter-rouge">start</code> e <code class="language-plaintext highlighter-rouge">stop</code> s√£o aceitos, de forma parecida com a que vimos para a indexa√ß√£o. Um <code class="language-plaintext highlighter-rouge">step</code> negativo tamb√©m √© poss√≠vel, assim como no caso do comando <code class="language-plaintext highlighter-rouge">range</code>.</p>

<p>Vejamos alguns exemplos:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">L</span> <span class="o">=</span> <span class="s">'Eu sou uma string'</span>

<span class="c1"># primeira palavra (Eu)
</span><span class="k">print</span><span class="p">(</span><span class="n">L</span><span class="p">[:</span><span class="mi">2</span><span class="p">])</span>

<span class="c1"># segunda palavra:
</span><span class="k">print</span><span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">])</span>

<span class="c1"># √∫ltima palavra:
</span><span class="k">print</span><span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="o">-</span><span class="mi">6</span><span class="p">:])</span>

<span class="c1"># teste: os seguintes comandos imprimem?
</span><span class="k">print</span><span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="o">-</span><span class="mi">6</span><span class="p">::</span><span class="mi">2</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">L</span><span class="p">[:])</span>
<span class="k">print</span><span class="p">(</span><span class="n">L</span><span class="p">[::])</span>
<span class="k">print</span><span class="p">(</span><span class="n">L</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</code></pre></div></div>

:ET